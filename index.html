<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ISTE Freshers Treasure Hunt</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4361ee;
            --secondary: #3f37c9;
            --success: #4cc9f0;
            --warning: #f72585;
            --light: #f8f9fa;
            --dark: #212529;
            --gray: #6c757d;
            --border: #dee2e6;
            --card-bg: #ffffff;
            --body-bg: #f0f2f5;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--body-bg);
            color: var(--dark);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 20px 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border-radius: 0 0 10px 10px;
            margin-bottom: 30px;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo i {
            font-size: 2.5rem;
        }
        
        .logo h1 {
            font-size: 1.8rem;
            font-weight: 700;
        }
        
        .tagline {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-top: 5px;
        }
        
        .nav-tabs {
            display: flex;
            background: white;
            border-radius: 50px;
            padding: 5px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin: 20px auto;
            max-width: 600px;
        }
        
        .nav-tab {
            flex: 1;
            text-align: center;
            padding: 12px 20px;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            background: transparent;
            color: var(--gray);
        }
        
        .nav-tab.active {
            background: var(--primary);
            color: white;
        }
        
        .nav-tab:hover:not(.active) {
            background: #e9ecef;
        }
        
        .card {
            background: var(--card-bg);
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            padding: 25px;
            margin-bottom: 25px;
            transition: transform 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border);
        }
        
        .card-header i {
            font-size: 1.5rem;
            color: var(--primary);
        }
        
        .card-title {
            font-size: 1.4rem;
            font-weight: 600;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark);
        }
        
        select, input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--border);
            border-radius: 10px;
            font-size: 1rem;
            transition: border 0.3s ease;
        }
        
        select:focus, input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
        }
        
        .btn {
            padding: 12px 25px;
            border-radius: 10px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background: var(--secondary);
        }
        
        .btn-success {
            background: #4ade80;
            color: white;
        }
        
        .btn-warning {
            background: #fbbf24;
            color: white;
        }
        
        .btn-danger {
            background: #f87171;
            color: white;
        }
        
        .btn-outline {
            background: transparent;
            border: 1px solid var(--primary);
            color: var(--primary);
        }
        
        .btn-outline:hover {
            background: var(--primary);
            color: white;
        }
        
        .task-card {
            background: #f0f7ff;
            border-left: 4px solid var(--primary);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .task-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--secondary);
        }
        
        .task-instructions {
            margin-bottom: 15px;
            line-height: 1.7;
        }
        
        .task-proof {
            font-size: 0.9rem;
            color: var(--gray);
            padding: 10px;
            background: rgba(67, 97, 238, 0.05);
            border-radius: 8px;
        }
        
        .pin-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }
        
        .pin-input {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .pin-input input {
            flex: 1;
            text-align: center;
            font-size: 1.5rem;
            letter-spacing: 5px;
        }
        
        .status {
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            font-weight: 500;
        }
        
        .status.success {
            background: rgba(76, 201, 240, 0.2);
            color: #0d9488;
            border: 1px solid #4cc9f0;
        }
        
        .status.error {
            background: rgba(247, 37, 133, 0.1);
            color: #dc2626;
            border: 1px solid #f72585;
        }
        
        .location-card {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: #f0f7ff;
            border-radius: 10px;
            margin: 15px 0;
        }
        
        .location-icon {
            font-size: 2rem;
            color: var(--primary);
        }
        
        .location-info h3 {
            font-size: 1.3rem;
            margin-bottom: 5px;
        }
        
        .location-info p {
            color: var(--gray);
        }
        
        .badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }
        
        .badge-primary {
            background: rgba(67, 97, 238, 0.15);
            color: var(--primary);
        }
        
        .badge-success {
            background: rgba(76, 201, 240, 0.2);
            color: #0d9488;
        }
        
        .progress-container {
            margin: 25px 0;
        }
        
        .progress-bar {
            height: 12px;
            background: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 10px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--success));
            border-radius: 10px;
            transition: width 0.5s ease;
        }
        
        .progress-label {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: var(--gray);
        }
        
        .team-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .team-card {
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 20px;
            background: white;
        }
        
        .team-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .team-name {
            font-size: 1.2rem;
            font-weight: 600;
        }
        
        .team-stats {
            display: flex;
            gap: 15px;
            margin: 15px 0;
        }
        
        .stat {
            text-align: center;
            flex: 1;
        }
        
        .stat-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: var(--gray);
        }
        
        .checkpoint-list {
            margin-top: 20px;
        }
        
        .checkpoint-item {
            padding: 12px 15px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .checkpoint-item:last-child {
            border-bottom: none;
        }
        
        .checkpoint-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .checkpoint-status {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .completed {
            color: #10b981;
        }
        
        .pending {
            color: #f59e0b;
        }
        
        .locked {
            color: #9ca3af;
        }
        
        .editable-field {
            padding: 8px 12px;
            border: 1px solid var(--border);
            border-radius: 8px;
            width: 100%;
            margin: 5px 0;
        }
        
        .editable-field:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
        }
        
        .score-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .score-table th {
            background: var(--primary);
            color: white;
            text-align: left;
            padding: 15px;
        }
        
        .score-table td {
            padding: 12px 15px;
            border-bottom: 1px solid var(--border);
        }
        
        .score-table tr:nth-child(even) {
            background: #f8f9fa;
        }
        
        .score-table tr:hover {
            background: #f0f7ff;
        }
        
        .time-display {
            font-family: 'Courier New', monospace;
            font-weight: 600;
        }
        
        .view-toggle {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .view-btn {
            flex: 1;
            padding: 10px;
            text-align: center;
            background: #e9ecef;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
        }
        
        .view-btn.active {
            background: var(--primary);
            color: white;
        }
        
        footer {
            text-align: center;
            padding: 20px;
            color: var(--gray);
            font-size: 0.9rem;
            margin-top: 30px;
        }
        
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
                gap: 15px;
            }
            
            .nav-tabs {
                width: 100%;
            }
            
            .team-grid {
                grid-template-columns: 1fr;
            }
            
            .pin-input {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-map-marked-alt"></i>
                    <div>
                        <h1>ISTE Freshers Treasure Hunt</h1>
                        <div class="tagline">Offline • AI‑resistant • Human‑verified</div>
                    </div>
                </div>
                <div class="controls">
                    <button class="btn btn-outline" id="resetBtn">
                        <i class="fas fa-sync-alt"></i> Reset All
                    </button>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="nav-tabs">
            <button class="nav-tab active" data-tab="team">Team View</button>
            <button class="nav-tab" data-tab="coordinator">Coordinator</button>
            <button class="nav-tab" data-tab="scores">Score Board</button>
        </div>

        <!-- Team View -->
        <div class="tab-content" id="team-view">
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-users"></i>
                    <h2 class="card-title">Team Dashboard</h2>
                </div>
                
                <div class="form-group">
                    <label for="team-select">Select Your Team</label>
                    <select id="team-select">
                        <option value="TEAM_01">Team 01</option>
                        <option value="TEAM_02">Team 02</option>
                        <option value="TEAM_03">Team 03</option>
                        <option value="TEAM_04">Team 04</option>
                        <option value="TEAM_05">Team 05</option>
                        <option value="TEAM_06">Team 06</option>
                        <option value="TEAM_07">Team 07</option>
                        <option value="TEAM_08">Team 08</option>
                        <option value="TEAM_09">Team 09</option>
                        <option value="TEAM_10">Team 10</option>
                    </select>
                </div>
                
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
                    </div>
                    <div class="progress-label">
                        <span>Checkpoints Completed</span>
                        <span id="progress-text">0/7</span>
                    </div>
                </div>
                
                <div id="task-section">
                    <div class="task-card">
                        <div class="task-title">Library Cipher Challenge</div>
                        <div class="task-instructions">
                            Find the marked book at shelf 'CS-01'. Decode: Page 42 → 5th word, Page 7 → 1st, Page 99 → 3rd, then anagram the four words to get a campus keyword. Show marshal.
                        </div>
                        <div class="task-proof">
                            <strong>Proof Required:</strong> Show the four words + final keyword to marshal.
                        </div>
                    </div>
                </div>
                
                <div class="pin-section">
                    <h3>Unlock Next Clue</h3>
                    <p>After completing the task, ask the marshal for the 4-digit PIN to unlock your next clue.</p>
                    
                    <div class="pin-input">
                        <input type="text" id="pin-input" maxlength="4" placeholder="••••">
                        <button class="btn btn-primary" id="verify-btn">
                            <i class="fas fa-lock-open"></i> Verify PIN
                        </button>
                    </div>
                    
                    <div id="pin-status" class="status" style="display: none;"></div>
                </div>
                
                <div id="next-location" style="display: none;">
                    <h3>Next Location</h3>
                    <div class="location-card">
                        <i class="fas fa-building location-icon"></i>
                        <div class="location-info">
                            <h3>Seminar Hall 1 – Block A</h3>
                            <p>Hall • Block A</p>
                        </div>
                        <span class="badge badge-primary">Next</span>
                    </div>
                    
                    <div class="task-card">
                        <div class="task-title">Lightning Skit</div>
                        <div class="task-instructions">
                            Act out 'Inventing the light bulb' in 20 seconds without words. End with a freeze pose.
                        </div>
                        <div class="task-proof">
                            <strong>Proof Required:</strong> Marshal amused (subjective but fair).
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Coordinator View -->
        <div class="tab-content" id="coordinator-view" style="display: none;">
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-user-shield"></i>
                    <h2 class="card-title">Coordinator Dashboard</h2>
                </div>
                
                <div class="view-toggle">
                    <div class="view-btn active" data-view="teams">All Teams</div>
                    <div class="view-btn" data-view="checkpoints">Checkpoints</div>
                </div>
                
                <div id="teams-view">
                    <h3>Team Progress Overview</h3>
                    <div class="team-grid">
                        <!-- Team cards will be generated here -->
                    </div>
                </div>
                
                <div id="checkpoints-view" style="display: none;">
                    <h3>All Checkpoints</h3>
                    <div class="card">
                        <div class="card-header">
                            <i class="fas fa-map-marker-alt"></i>
                            <h3 class="card-title">Library – Block A</h3>
                            <span class="badge badge-primary">Library</span>
                        </div>
                        
                        <div class="task-card">
                            <div class="task-title">Book Cipher</div>
                            <div class="task-instructions">
                                Find the marked book at shelf 'CS-01'. Decode: Page 42 → 5th word, Page 7 → 1st, Page 99 → 3rd, then anagram the four words to get a campus keyword. Show marshal.
                            </div>
                            <div class="task-proof">
                                <strong>Proof Required:</strong> Show the four words + final keyword to marshal.
                            </div>
                            <div class="form-group">
                                <label>PIN</label>
                                <input type="text" class="editable-field" value="1843">
                            </div>
                        </div>
                        
                        <div class="task-card">
                            <div class="task-title">Quiet Hunt</div>
                            <div class="task-instructions">
                                Locate a book whose author's initials match your team name initials. Take a silent 'reading circle' photo (no faces needed) and show to marshal.
                            </div>
                            <div class="task-proof">
                                <strong>Proof Required:</strong> Photo + book spine.
                            </div>
                            <div class="form-group">
                                <label>PIN</label>
                                <input type="text" class="editable-field" value="2961">
                            </div>
                        </div>
                        
                        <div class="task-card">
                            <div class="task-title">Index Race</div>
                            <div class="task-instructions">
                                Use the book index to find the definition of 'algorithm'. Copy exactly the first ten words by hand on the slip. No phones.
                            </div>
                            <div class="task-proof">
                                <strong>Proof Required:</strong> Handwritten line shown to marshal.
                            </div>
                            <div class="form-group">
                                <label>PIN</label>
                                <input type="text" class="editable-field" value="5308">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Score Board View -->
        <div class="tab-content" id="scores-view" style="display: none;">
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-trophy"></i>
                    <h2 class="card-title">Score Board</h2>
                </div>
                
                <table class="score-table">
                    <thead>
                        <tr>
                            <th>Team</th>
                            <th>Checkpoints Completed</th>
                            <th>Time</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Team 01</td>
                            <td>5/7</td>
                            <td class="time-display">00:42:18</td>
                            <td><span class="badge badge-primary">In Progress</span></td>
                        </tr>
                        <tr>
                            <td>Team 02</td>
                            <td>3/7</td>
                            <td class="time-display">00:28:45</td>
                            <td><span class="badge badge-primary">In Progress</span></td>
                        </tr>
                        <tr>
                            <td>Team 03</td>
                            <td>7/7</td>
                            <td class="time-display">01:15:32</td>
                            <td><span class="badge badge-success">Finished</span></td>
                        </tr>
                        <tr>
                            <td>Team 04</td>
                            <td>2/7</td>
                            <td class="time-display">00:18:22</td>
                            <td><span class="badge badge-primary">In Progress</span></td>
                        </tr>
                        <tr>
                            <td>Team 05</td>
                            <td>6/7</td>
                            <td class="time-display">00:55:10</td>
                            <td><span class="badge badge-primary">In Progress</span></td>
                        </tr>
                        <tr>
                            <td>Team 06</td>
                            <td>1/7</td>
                            <td class="time-display">00:12:05</td>
                            <td><span class="badge badge-primary">In Progress</span></td>
                        </tr>
                        <tr>
                            <td>Team 07</td>
                            <td>4/7</td>
                            <td class="time-display">00:33:47</td>
                            <td><span class="badge badge-primary">In Progress</span></td>
                        </tr>
                        <tr>
                            <td>Team 08</td>
                            <td>7/7</td>
                            <td class="time-display">00:58:21</td>
                            <td><span class="badge badge-success">Finished</span></td>
                        </tr>
                        <tr>
                            <td>Team 09</td>
                            <td>0/7</td>
                            <td class="time-display">00:00:00</td>
                            <td><span class="badge badge-primary">In Progress</span></td>
                        </tr>
                        <tr>
                            <td>Team 10</td>
                            <td>3/7</td>
                            <td class="time-display">00:25:14</td>
                            <td><span class="badge badge-primary">In Progress</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <p>ISTE Freshers Treasure Hunt • Offline • AI‑resistant • Human‑verified</p>
            <p>Tip: Change route definitions, tasks, and PINs in the code before printing. Keep PINs secret.</p>
        </div>
    </footer>

    <script>
        // Sample data for the treasure hunt
        const LOCATIONS = {
            LIB_A: { id: "LIB_A", title: "Library – Block A", block: "A", type: "Library" },
            DRAW_A: { id: "DRAW_A", title: "Drawing Room – Block A", block: "A", type: "Room" },
            LAB_DS: { id: "LAB_DS", title: "Data Science Lab – Block A", block: "A", type: "Computer Lab" },
            LAB_P1: { id: "LAB_P1", title: "Programming Lab 1 – Block A", block: "A", type: "Computer Lab" },
            LAB_P2: { id: "LAB_P2", title: "Programming Lab 2 – Block A", block: "A", type: "Computer Lab" },
            HALL_A1: { id: "HALL_A1", title: "Seminar Hall 1 – Block A", block: "A", type: "Hall" },
            HALL_A2: { id: "HALL_A2", title: "Seminar Hall 2 – Block A", block: "A", type: "Hall" },
            HALL_C3: { id: "HALL_C3", title: "Seminar Hall 3 – Block C", block: "C", type: "Hall" },
            CANT_B: { id: "CANT_B", title: "Canteen – Block B", block: "B", type: "Canteen" },
            CANT_C: { id: "CANT_C", title: "Canteen – Block C", block: "C", type: "Canteen" },
            NB_A1: { id: "NB_A1", title: "Notice Board 1 – Block A", block: "A", type: "Notice Board" },
            NB_A2: { id: "NB_A2", title: "Notice Board 2 – Block A", block: "A", type: "Notice Board" },
            NB_A3: { id: "NB_A3", title: "Notice Board 3 – Block A", block: "A", type: "Notice Board" },
            NB_A4: { id: "NB_A4", title: "Notice Board 4 – Block A", block: "A", type: "Notice Board" },
            NB_A5: { id: "NB_A5", title: "Notice Board 5 – Block A", block: "A", type: "Notice Board" },
            NB_A6: { id: "NB_A6", title: "Notice Board 6 – Block A", block: "A", type: "Notice Board" },
        };

        const TASKS = {
            LIB_A: [
                { name: "Book Cipher", instructions: "Find the marked book at shelf 'CS-01'. Decode: Page 42 → 5th word, Page 7 → 1st, Page 99 → 3rd, then anagram the four words to get a campus keyword. Show marshal.", proof: "Show the four words + final keyword to marshal.", pin: "1843" },
                { name: "Quiet Hunt", instructions: "Locate a book whose author's initials match your team name initials. Take a silent 'reading circle' photo (no faces needed) and show to marshal.", proof: "Photo + book spine.", pin: "2961" },
                { name: "Index Race", instructions: "Use the book index to find the definition of 'algorithm'. Copy exactly the first ten words by hand on the slip. No phones.", proof: "Handwritten line shown to marshal.", pin: "5308" },
            ],
            DRAW_A: [
                { name: "One-Min Logo", instructions: "As a team, sketch the ISTE logo in 60 seconds using only triangles. All team members must add at least one triangle.", proof: "Completed sketch.", pin: "4410" },
                { name: "Robot Charades", instructions: "In absolute silence, act like a malfunctioning robot for 20 seconds while tracing a path on paper that spells a letter. Marshal must guess the letter.", proof: "Marshal says the letter correctly.", pin: "7724" },
                { name: "Blindfold Blueprint", instructions: "One member is blindfolded and draws a simple house guided only by teammates' verbal directions (no pointing).", proof: " recognizable house sketch.", pin: "0956" },
            ],
            LAB_DS: [
                { name: "Cable Logic", instructions: "On the table are 5 labeled cables (A–E). Arrange them so that 'binary' order (0=short,1=long) matches a given pattern on the card.", proof: "Correct arrangement per marshal's key.", pin: "6127" },
                { name: "Post-it Cluster", instructions: "Group 7 tech terms into 2 clusters (Data vs. Model) using post-its. Explain your grouping in one sentence.", proof: "Correct/acceptable clustering.", pin: "3885" },
                { name: "Decode & Point", instructions: "Given a printed line of 8-bit binary, convert to ASCII letters (use any method) and point to the next block mentioned.", proof: "Correct block identified.", pin: "4409" },
            ],
            LAB_P1: [
                { name: "If-Else Relay", instructions: "Marshal reads conditions (IF wearing glasses THEN clap twice; ELSE stomp once; IF wearing watch THEN spin). Team performs the right sequence.", proof: "Correct sequence performed without error.", pin: "1342" },
                { name: "Sort Yourselves", instructions: "Sort the team by birthday month from Jan→Dec without speaking. When done, say the months in order.", proof: "Correct order.", pin: "5571" },
                { name: "Stack & Queue", instructions: "Use cups to demonstrate PUSH, POP (stack) and ENQUEUE, DEQUEUE (queue). Marshal calls operations; perform live.", proof: "Performed correctly.", pin: "2090" },
            ],
            LAB_P2: [
                { name: "Regex Hunt", instructions: "On a printed sheet of random characters, circle all vowels that are immediately followed by a digit. Count aloud.", proof: "Correct count.", pin: "6815" },
                { name: "Binary Beat", instructions: "Clap '1', stay silent '0' to perform this 16-bit rhythm. Teammate writes the bits they hear.", proof: "Written bits match the card.", pin: "7602" },
                { name: "Pointer Dance", instructions: "Place arrows on the floor to form a cycle (A→B→C→A). Walk the cycle twice, then break it by removing one arrow to make a list.", proof: "Cycle then linear list demonstrated.", pin: "9988" },
            ],
            CANT_B: [
                { name: "Human Wi‑Fi", instructions: "Pose as a human Wi‑Fi icon (concentric arcs). Take a photo and show marshal (faces optional).", proof: "Photo shown.", pin: "4321" },
                { name: "Menu Cipher", instructions: "Using the menu board, take the first letter of 6 different items to form a word related to tech. Read it aloud.", proof: "Recognizable tech word.", pin: "8703" },
                { name: "Under‑Table Quest", instructions: "Find the sticker under a table with a shape. Recreate the shape using spoons/packets on top of the table.", proof: "Shape matches.", pin: "2146" },
            ],
            CANT_C: [
                { name: "Snack Math", instructions: "Pick any 3 snack prices. Add them. Map sum to letters (A1Z26). Say the 3-letter code.", proof: "3-letter code correct.", pin: "3024" },
                { name: "Queue Etiquette", instructions: "Demonstrate a perfect queue: equal spacing, quiet, forward only when allowed. Hold 10 seconds.", proof: "Marshal satisfied.", pin: "5520" },
                { name: "Emoji Order", instructions: "Given 6 printed emojis, arrange to tell a 'canteen' story. Narrate in one sentence.", proof: "Coherent story.", pin: "7719" },
            ],
            HALL_A1: [
                { name: "Lightning Skit", instructions: "Act out 'Inventing the light bulb' in 20 seconds without words. End with a freeze pose.", proof: "Marshal amused (subjective but fair).", pin: "6401" },
                { name: "Rebus Logic", instructions: "Solve a printed rebus (e.g., 'R E A D I N G' stacked over 'ROOM') → 'Reading Room'. Explain answer.", proof: "Correct explanation.", pin: "9011" },
                { name: "Math→Word", instructions: "Solve: (7×4) – 9 = ?. Map to letter via A1Z26. Combine with two more mini sums to form a 3-letter word.", proof: "Word matches key.", pin: "2654" },
            ],
            HALL_A2: [
                { name: "Tongue Twister Relay", instructions: "Each member says one word of a tongue twister in order without mistakes. Two retries max.", proof: "Flawless round.", pin: "8842" },
                { name: "Paper Tower", instructions: "Build the tallest free‑standing paper tower in 2 minutes using 6 sheets and tape.", proof: "Stands for 5 seconds.", pin: "1190" },
                { name: "Echo Location", instructions: "Marshal whispers a 5-word campus phrase. Team repeats exactly. (No recording.)", proof: "Exact repeat.", pin: "3356" },
            ],
            HALL_C3: [
                { name: "Silent Sudoku Mini", instructions: "Fill a 3×3 mini Sudoku from a printed card. No talking allowed.", proof: "Correct grid.", pin: "7440" },
                { name: "Tech Pictionary", instructions: "Draw a 'Bluetooth' symbol without writing letters/numbers. Teammates must guess.", proof: "Correct guess.", pin: "5529" },
                { name: "Freeze Frame", instructions: "Create a silent tableau of 'Teamwork'. Hold pose for 8 seconds.", proof: "Pose held.", pin: "6625" },
            ],
            NB_A1: [
                { name: "Find the Tiny", instructions: "Locate the micro-sticker '∆' on this board. Draw it 5× bigger on the slip.", proof: "Scaled drawing.", pin: "1408" },
                { name: "Word Sweep", instructions: "From any 4 notices, grab the first letter of the first line to form a word.", proof: "Word shown.", pin: "5113" },
                { name: "Odd One Out", instructions: "Given 5 small icons on a card, pin the odd one to the board and explain why.", proof: "Reasonable explanation.", pin: "8864" },
            ],
            NB_A2: [
                { name: "Arrow Trail", instructions: "Follow 3 tiny arrows on the board to a small circle. Copy the circle pattern.", proof: "Pattern copied.", pin: "3301" },
                { name: "Rhyme Time", instructions: "Make a two-line rhyme using a word from a notice.", proof: "Rhyme recited.", pin: "2775" },
                { name: "Count & Tell", instructions: "Count total sheets on this board and say it backwards.", proof: "Correct count.", pin: "9443" },
            ],
            NB_A3: [
                { name: "Color Pick", instructions: "Name all distinct paper colors on this board within 10 seconds.", proof: "All colors named.", pin: "5012" },
                { name: "Date Scan", instructions: "Find the earliest date visible and say the exact day-month-year.", proof: "Correct date.", pin: "6821" },
                { name: "Font Spy", instructions: "Identify a serif vs sans-serif head on the board. Point to both.", proof: "Both identified.", pin: "7130" },
            ],
            NB_A4: [
                { name: "Corner Quest", instructions: "There is a dot in one corner (tiny). Find and touch it simultaneously as a team.", proof: "Team touching corner.", pin: "4026" },
                { name: "Arrow Math", instructions: "There are 3 arrows hidden. Sum their directions: up=+1, down=−1, left=+2, right=−2.", proof: "Correct total.", pin: "2650" },
                { name: "Missing Vowel", instructions: "Pick a notice title and say it without vowels.", proof: "Correct transformation.", pin: "9399" },
            ],
            NB_A5: [
                { name: "Sticker Grid", instructions: "Find a 2×2 grid of tiny stickers (•• / ••). Recreate it on paper.", proof: "Grid drawn.", pin: "7750" },
                { name: "Hashtag Hunt", instructions: "Find a # symbol anywhere on this board or notices. Point it out.", proof: "Located.", pin: "6201" },
                { name: "Palindrome", instructions: "From any line on a notice, extract a 3-letter palindrome (e.g., 'aba').", proof: "Palindrome shown.", pin: "4312" },
            ],
            NB_A6: [
                { name: "Right or Left", instructions: "Count how many notices have right-aligned text. Say the number.", proof: "Correct count.", pin: "9042" },
                { name: "Icon Match", instructions: "Find a phone/email icon. Mimic it as a pose.", proof: "Pose matches.", pin: "2585" },
                { name: "Tear Edge", instructions: "Locate a torn edge notice. Estimate the missing area in squares (1 sq = your palm).", proof: "Reasonable estimate.", pin: "1177" },
            ],
        };

        const ROUTES = {
            TEAM_01: ["HALL_A1", "LIB_A", "CANT_B", "LAB_P1", "NB_A3", "CANT_C", "HALL_C3"],
            TEAM_02: ["CANT_C", "DRAW_A", "NB_A2", "LAB_P2", "CANT_B", "HALL_A2", "LIB_A"],
            TEAM_03: ["HALL_A2", "NB_A1", "CANT_C", "LIB_A", "LAB_P1", "DRAW_A", "CANT_B"],
            TEAM_04: ["NB_A4", "LAB_DS", "HALL_A1", "CANT_B", "LIB_A", "HALL_C3", "CANT_C"],
            TEAM_05: ["LAB_P2", "HALL_C3", "CANT_B", "NB_A5", "DRAW_A", "LIB_A", "HALL_A2"],
            TEAM_06: ["NB_A6", "CANT_C", "HALL_A1", "LAB_DS", "CANT_B", "NB_A2", "LIB_A"],
            TEAM_07: ["CANT_B", "NB_A3", "LAB_P1", "HALL_A2", "LIB_A", "DRAW_A", "HALL_C3"],
            TEAM_08: ["DRAW_A", "LIB_A", "NB_A4", "CANT_C", "LAB_P2", "HALL_A1", "CANT_B"],
            TEAM_09: ["LAB_DS", "CANT_B", "NB_A1", "HALL_C3", "LIB_A", "NB_A5", "HALL_A2"],
            TEAM_10: ["NB_A2", "DRAW_A", "HALL_A1", "CANT_B", "LAB_P1", "LIB_A", "CANT_C"],
        };

        // DOM Elements
        const teamSelect = document.getElementById('team-select');
        const pinInput = document.getElementById('pin-input');
        const verifyBtn = document.getElementById('verify-btn');
        const pinStatus = document.getElementById('pin-status');
        const nextLocation = document.getElementById('next-location');
        const progressFill = document.getElementById('progress-fill');
        const progressText = document.getElementById('progress-text');
        const resetBtn = document.getElementById('resetBtn');

        // Tab navigation
        const navTabs = document.querySelectorAll('.nav-tab');
        const tabContents = document.querySelectorAll('.tab-content');

        // Coordinator view elements
        const viewBtns = document.querySelectorAll('.view-btn');
        const teamsView = document.getElementById('teams-view');
        const checkpointsView = document.getElementById('checkpoints-view');

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            // Set up tab navigation
            navTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabId = tab.getAttribute('data-tab');
                    
                    // Update active tab
                    navTabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    
                    // Show the selected tab content
                    tabContents.forEach(content => {
                        content.style.display = 'none';
                    });
                    document.getElementById(`${tabId}-view`).style.display = 'block';
                    
                    // If coordinator tab, generate team cards
                    if (tabId === 'coordinator') {
                        generateTeamCards();
                    }
                });
            });
            
            // Set up coordinator view toggle
            viewBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const view = btn.getAttribute('data-view');
                    
                    // Update active button
                    viewBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    
                    // Show the selected view
                    teamsView.style.display = view === 'teams' ? 'block' : 'none';
                    checkpointsView.style.display = view === 'checkpoints' ? 'block' : 'none';
                });
            });
            
            // Set up PIN verification
            verifyBtn.addEventListener('click', verifyPin);
            
            // Set up team selection
            teamSelect.addEventListener('change', updateTeamView);
            
            // Set up reset button
            resetBtn.addEventListener('click', resetAllData);
            
            // Initialize the team view
            updateTeamView();
        });

        // Update team view based on selected team
        function updateTeamView() {
            const teamId = teamSelect.value;
            const route = ROUTES[teamId];
            
            // For demo purposes, we'll simulate progress
            const progress = Math.floor(Math.random() * route.length);
            const percentage = (progress / route.length) * 100;
            
            // Update progress bar
            progressFill.style.width = `${percentage}%`;
            progressText.textContent = `${progress}/${route.length}`;
            
            // Show/hide next location based on progress
            nextLocation.style.display = progress < route.length ? 'block' : 'none';
        }

        // Verify the entered PIN
        function verifyPin() {
            const pin = pinInput.value;
            
            // For demo purposes, we'll accept any 4-digit PIN
            if (pin.length === 4 && /^\d+$/.test(pin)) {
                pinStatus.textContent = "PIN verified! Next clue unlocked.";
                pinStatus.className = "status success";
                pinStatus.style.display = "block";
                
                // Show next location
                setTimeout(() => {
                    nextLocation.style.display = "block";
                    pinInput.value = "";
                    pinStatus.style.display = "none";
                }, 1500);
            } else {
                pinStatus.textContent = "Invalid PIN. Please try again.";
                pinStatus.className = "status error";
                pinStatus.style.display = "block";
                
                // Clear input after error
                setTimeout(() => {
                    pinInput.value = "";
                    pinStatus.style.display = "none";
                }, 2000);
            }
        }

        // Generate team cards for coordinator view
        function generateTeamCards() {
            const teamGrid = document.querySelector('.team-grid');
            teamGrid.innerHTML = '';
            
            Object.keys(ROUTES).forEach((teamId, index) => {
                const route = ROUTES[teamId];
                const completed = Math.floor(Math.random() * route.length);
                const percentage = (completed / route.length) * 100;
                
                const teamCard = document.createElement('div');
                teamCard.className = 'team-card';
                teamCard.innerHTML = `
                    <div class="team-header">
                        <div class="team-name">${teamId.replace('_', ' ')}</div>
                        <span class="badge badge-primary">${completed}/${route.length}</span>
                    </div>
                    
                    <div class="team-stats">
                        <div class="stat">
                            <div class="stat-value">${percentage.toFixed(0)}%</div>
                            <div class="stat-label">Complete</div>
                        </div>
                        <div class="stat">
                            <div class="stat-value">00:${Math.floor(Math.random() * 60).toString().padStart(2, '0')}:${Math.floor(Math.random() * 60).toString().padStart(2, '0')}</div>
                            <div class="stat-label">Time</div>
                        </div>
                    </div>
                    
                    <div class="checkpoint-list">
                        ${route.map((locId, i) => {
                            const location = LOCATIONS[locId];
                            let statusClass = 'locked';
                            let statusText = 'Locked';
                            let icon = 'fa-lock';
                            
                            if (i < completed) {
                                statusClass = 'completed';
                                statusText = 'Completed';
                                icon = 'fa-check-circle';
                            } else if (i === completed) {
                                statusClass = 'pending';
                                statusText = 'Current';
                                icon = 'fa-hourglass-half';
                            }
                            
                            return `
                                <div class="checkpoint-item">
                                    <div class="checkpoint-info">
                                        <i class="fas ${icon} ${statusClass}"></i>
                                        <div>
                                            <div>${location.title}</div>
                                            <div class="stat-label">${location.type}</div>
                                        </div>
                                    </div>
                                    <div class="checkpoint-status ${statusClass}">
                                        <i class="fas fa-${icon}"></i>
                                        <span>${statusText}</span>
                                    </div>
                                </div>
                            `;
                        }).join('')}
                    </div>
                `;
                
                teamGrid.appendChild(teamCard);
            });
        }

        // Reset all data
        function resetAllData() {
            if (confirm('Are you sure you want to reset all team progress? This cannot be undone.')) {
                // In a real app, this would clear localStorage
                alert('All team data has been reset.');
                updateTeamView();
            }
        }
    </script>
</body>
</html>
